(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"pCd+":function(t,e,i){"use strict";i.r(e),i.d(e,"MoviesModule",(function(){return D}));var o=i("PCNd"),n=i("tyNb"),s=i("M0ag"),c=i("fXoL"),a=i("tk/3");let r=(()=>{class t{constructor(t){this.http=t,this.config=appConfig,this.apiUrl=this.config.apiUrl,this.authUrl=this.config.authUrl}getConfigs(){return this.config}getApiPath(t,e,i=[]){let o="";return i.length>0&&(o=i.join("/")),`${this.config.apiUrl}/${t}/${e}/${o}`}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(a.b))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t,e){this.appConfig=t,this.http=e,this.v3ApiUrl="https://api.themoviedb.org/3/",this.v4ApiUrl="https://api.themoviedb.org/4/",this.apiKey="383152e8c1903c8e59107fbfe3764b64",this.accessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE2MDQyNDEzNTMsInN1YiI6IjVmOWM0MjE5MjljNjI2MDAzNzU3YzU3NCIsImp0aSI6IjI1MjAxODUiLCJhdWQiOiIzODMxNTJlOGMxOTAzYzhlNTkxMDdmYmZlMzc2NGI2NCIsInNjb3BlcyI6WyJhcGlfcmVhZCIsImFwaV93cml0ZSJdLCJ2ZXJzaW9uIjoxfQ.QTOo0cNEnQcVmLAm-gCwW40oenUnQD_tyRlJsu6lRlg"}getFilterTypeList(){return this.http.get("assets/data/filter-type-list.json")}getConfiguration(){return this.http.get("https://api.themoviedb.org/3/configuration?api_key="+this.apiKey)}getMovieList(){return this.http.get(`${this.v4ApiUrl}list/1?page=1&api_key=${this.apiKey}&sort_by=title.asc`)}getMovieDetail(t){return this.http.get(`${this.v3ApiUrl}movie/${t}?api_key=${this.apiKey}&language=en-US`)}getMovieListByListId(t,e=1){return this.http.get(`${this.v3ApiUrl}list/${t}?page=${e}&api_key=${this.apiKey}&sort_by=title.asc`)}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(r),c.Yb(a.b))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=i("0IaG"),d=i("XiUz"),h=i("Wp6s"),m=i("NFeN"),v=i("A5z7"),g=i("ofXK");function p(t,e){if(1&t&&(c.Ub(0,"mat-chip",7),c.Oc(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Qc(" ",t.name," ")}}let f=(()=>{class t{constructor(t,e){this.movieDetailDialogRef=t,this.movieDetail=e}ngOnInit(){console.log("movieDetail",this.movieDetail)}onCloseDialog(){this.movieDetailDialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(b.h),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-movie-detail-dialog"]],decls:17,vars:5,consts:[["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"close-icon",3,"click"],[1,"movie-other-detail"],["color","primary",4,"ngFor","ngForOf"],[1,"movie-detail"],["alt","Poster",1,"movie-poster",3,"src"],[1,"movie-overview"],["color","primary"]],template:function(t,e){1&t&&(c.Ub(0,"mat-dialog-content"),c.Ub(1,"div",0),c.Ub(2,"mat-card-title"),c.Ub(3,"span"),c.Oc(4),c.Tb(),c.Ub(5,"mat-icon",1),c.bc("click",(function(){return e.onCloseDialog()})),c.Oc(6,"close"),c.Tb(),c.Tb(),c.Ub(7,"mat-card-subtitle"),c.Oc(8),c.Tb(),c.Ub(9,"mat-card-content"),c.Ub(10,"div",2),c.Ub(11,"mat-chip-list"),c.Mc(12,p,2,1,"mat-chip",3),c.Tb(),c.Tb(),c.Ub(13,"div",4),c.Pb(14,"img",5),c.Ub(15,"div",6),c.Oc(16),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(4),c.Pc(e.movieDetail.title),c.Cb(4),c.Pc(e.movieDetail.tagline),c.Cb(4),c.oc("ngForOf",e.movieDetail.genres),c.Cb(2),c.oc("src",e.movieDetail.posterImg,c.Ec),c.Cb(2),c.Pc(e.movieDetail.overview))},directives:[b.f,d.a,h.f,m.a,h.e,h.b,v.b,g.m,v.a],styles:[".m-t-20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),t})();var u=i("tgey"),M=i("wZkO"),C=i("STbY"),O=i("znSr"),w=i("Qu3c"),T=i("bTqV");function L(t,e){if(1&t&&(c.Ub(0,"span",9),c.Oc(1),c.Tb(),c.Ub(2,"mat-icon",10),c.Oc(3),c.Tb()),2&t){const t=c.fc().$implicit;c.oc("ngClass",t.icon+"-lable"),c.Cb(1),c.Rc(" ",t.tabName," (",t.count,") "),c.Cb(1),c.oc("ngClass",t.icon+"-icon"),c.Cb(1),c.Qc("",t.icon," ")}}function x(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",15),c.Ub(1,"mat-card",16),c.Ub(2,"mat-card-header"),c.Ub(3,"mat-card-title",17),c.Ub(4,"span",18),c.Oc(5),c.Tb(),c.Ub(6,"button",19),c.bc("click",(function(){c.Cc(t);const i=e.$implicit;return c.fc(3).selectedMovie=i})),c.Ub(7,"mat-icon"),c.Oc(8,"more_vert"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"mat-card-content",20),c.bc("click",(function(){c.Cc(t);const i=e.$implicit;return c.fc(3).getMovieDetail(i)})),c.Pb(10,"img",21),c.Ub(11,"div",22),c.Ub(12,"div",23),c.Ub(13,"div",24),c.Ub(14,"mat-icon"),c.Oc(15,"grade"),c.Tb(),c.Ub(16,"span"),c.Oc(17),c.Tb(),c.Tb(),c.Ub(18,"div",25),c.Ub(19,"mat-icon"),c.Oc(20,"watch_later"),c.Tb(),c.Ub(21,"span"),c.Oc(22,"1hr 30min"),c.Tb(),c.Tb(),c.Tb(),c.Ub(23,"div",26),c.Ub(24,"div",27),c.Oc(25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit;c.fc(3);const i=c.yc(7);c.Cb(4),c.oc("matTooltip",t.title),c.Cb(1),c.Qc(" ",t.title," "),c.Cb(1),c.oc("matMenuTriggerFor",i),c.Cb(4),c.oc("src",t.posterImg,c.Ec),c.Cb(7),c.Pc(t.vote_average),c.Cb(8),c.Pc(t.overview)}}function _(t,e){if(1&t&&(c.Sb(0),c.Ub(1,"mat-card",11),c.Ub(2,"div",12),c.Ub(3,"div",13),c.Mc(4,x,26,6,"div",14),c.Tb(),c.Tb(),c.Tb(),c.Rb()),2&t){const t=c.fc(2);c.Cb(4),c.oc("ngForOf",t.filteredMoviewList)}}function U(t,e){if(1&t&&(c.Sb(0),c.Ub(1,"mat-tab",6),c.Mc(2,L,4,5,"ng-template",7),c.Mc(3,_,5,1,"ng-container",8),c.Tb(),c.Rb()),2&t){const t=e.index,i=c.fc();c.Cb(3),c.oc("ngIf",i.selectedTabIndex==t)}}function y(t,e){if(1&t){const t=c.Vb();c.Ub(0,"button",29),c.bc("click",(function(){c.Cc(t);const e=c.fc().$implicit;return c.fc().onMoreOptionAction(e)})),c.Ub(1,"mat-icon"),c.Oc(2),c.Tb(),c.Ub(3,"span"),c.Oc(4),c.Tb(),c.Tb()}if(2&t){const t=c.fc().$implicit;c.oc("ngClass",t.class),c.Cb(2),c.Pc(t.icon),c.Cb(2),c.Pc(t.name)}}function k(t,e){if(1&t&&(c.Sb(0),c.Mc(1,y,5,3,"button",28),c.Rb()),2&t){const t=e.$implicit,i=c.fc();c.Cb(1),c.oc("ngIf",t.id!=i.selectedTabId)}}let I=(()=>{class t{constructor(t,e,i){this.moviesService=t,this.dialog=e,this.localStrg=i,this.filterTypeList=[],this.moviesList=[],this.moreOptionMenuItems=[{id:1,name:"Move To Watch List",icon:"watch_later",class:"watch_later"},{id:2,name:"Mark As Favourite",icon:"favorite_border",class:"mark-as-fav"},{id:3,name:"Mark As Watched",icon:"check_circle_outline",class:"mark-as-watched"},{id:4,name:"Mark As Reviewed",icon:"star_border",class:"mark-as-reviewed"}],this.filteredMoviewList=[],this.selectedTabIndex=0,this.selectedTabId=1,this.baseUrl="",this.selectedMovie=null}ngOnInit(){this.getFilterTypeList(),this.getConfiguration(),this.getMovieList()}onTabChanged(t){this.selectedTabIndex=t,this.selectedTabId=this.filterTypeList[this.selectedTabIndex].tabId;const e=this.getList("FavList"),i=this.getList("WatchedList"),o=this.getList("ReviewedList"),n=[...e,...i,...o];switch(this.selectedTabId){case P.WatchLater:this.filteredMoviewList=this.moviesList.filter(t=>n.indexOf(t.id)<0);break;case P.MarkAsFavourite:this.filteredMoviewList=this.moviesList.filter(t=>e.indexOf(t.id)>=0);break;case P.MarkAsWatched:this.filteredMoviewList=this.moviesList.filter(t=>i.indexOf(t.id)>=0);break;case P.MarkAsReviewed:this.filteredMoviewList=this.moviesList.filter(t=>o.indexOf(t.id)>=0)}this.updateFilterCount()}updateFilterCount(){const t=this.getList("FavList"),e=this.getList("WatchedList"),i=this.getList("ReviewedList"),o=[...t,...e,...i];this.filterTypeList.forEach(n=>{let s=[];switch(n.tabId){case P.WatchLater:s=this.moviesList.filter(t=>o.indexOf(t.id)<0),n.count=s.length;break;case P.MarkAsFavourite:s=this.moviesList.filter(e=>t.indexOf(e.id)>=0),n.count=s.length;break;case P.MarkAsWatched:s=this.moviesList.filter(t=>e.indexOf(t.id)>=0),n.count=s.length;break;case P.MarkAsReviewed:s=this.moviesList.filter(t=>i.indexOf(t.id)>=0),n.count=s.length}})}getFilterTypeList(){this.moviesService.getFilterTypeList().subscribe(t=>{this.filterTypeList=t},t=>{console.error("error",t)})}getConfiguration(){this.moviesService.getConfiguration().subscribe(t=>{console.log("configuration",t),this.baseUrl=t.images.base_url},t=>{console.error("error",t)})}getMovieList(){this.moviesService.getMovieList().subscribe(t=>{console.log("moviesList",t),this.moviesList=[],t.results.forEach(t=>{this.moviesList.push({id:t.id,title:t.title,vote_count:t.vote_count,vote_average:t.vote_average,posterImg:this.baseUrl+"/w185"+t.poster_path,overview:t.overview})}),this.filteredMoviewList=this.moviesList,this.updateFilterCount()},t=>{console.error("error",t)})}getMovieDetail(t){this.moviesService.getMovieDetail(t.id).subscribe(e=>{console.log("movieDetail",e),e.posterImg=t.posterImg,this.dialog.open(f,{panelClass:"movie-detail-dialog",data:e})},t=>{console.error("error",t)})}onMoreOptionAction(t){switch(this.removeFromAll(),t.id){case P.WatchLater:this.removeFromAll();break;case P.MarkAsFavourite:this.addToList("FavList");break;case P.MarkAsWatched:this.addToList("WatchedList");break;case P.MarkAsReviewed:this.addToList("ReviewedList")}this.onTabChanged(this.selectedTabIndex)}removeFromAll(){this.removeFromList("FavList"),this.removeFromList("WatchedList"),this.removeFromList("ReviewedList")}removeFromList(t){let e=this.localStrg.get(t);null==e&&(e=[]);const i=e.indexOf(this.selectedMovie.id);i>=0&&e.splice(i,1),this.localStrg.set(t,e)}addToList(t){let e=this.localStrg.get(t);null==e&&(e=[]),e.indexOf(this.selectedMovie.id)<0&&e.push(this.selectedMovie.id),this.localStrg.set(t,e)}getList(t){let e=this.localStrg.get(t);return null==e&&(e=[]),e}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(l),c.Ob(b.c),c.Ob(s.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-view-movies"]],decls:9,vars:3,consts:[["id","movies-container","fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["color","primary","dynamicHeight","",3,"selectedIndex","selectedTabChange"],[4,"ngFor","ngForOf"],[1,"movie-card-more-menu"],["movieCardOptionMenu","matMenu"],[1,"mat-tab-container"],["mat-tab-label",""],[4,"ngIf"],[3,"ngClass"],[1,"m-l-8",3,"ngClass"],[1,"no-shadow"],[1,"movie-list-container","p-16"],["fxLayout","row wrap",1,"matero-row"],["class","matero-col","fxFlex.gt-sm","25","fxFlex.gt-xs","50","fxFlex","100",4,"ngFor","ngForOf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","50","fxFlex","100",1,"matero-col"],[1,"movie-card"],[1,"movie-card-title"],[1,"movie-title",3,"matTooltip"],["mat-icon-button","","aria-label","Open Menu",1,"menu-option",3,"matMenuTriggerFor","click"],[1,"movie-storyline",3,"click"],["alt","Poster",1,"w-full",3,"src"],[1,"movie-overview"],[1,"highlight-bar"],[1,"rating"],[1,"watch-time"],[1,"description_wrapper"],[1,"description"],["mat-menu-item","",3,"ngClass","click",4,"ngIf"],["mat-menu-item","",3,"ngClass","click"]],template:function(t,e){1&t&&(c.Pb(0,"page-header"),c.Ub(1,"div",0),c.Ub(2,"div",1),c.Ub(3,"mat-card"),c.Ub(4,"mat-tab-group",2),c.bc("selectedTabChange",(function(t){return e.onTabChanged(t.index)})),c.Mc(5,U,4,1,"ng-container",3),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"mat-menu",4,5),c.Mc(8,k,2,1,"ng-container",3),c.Tb()),2&t&&(c.Cb(4),c.oc("selectedIndex",e.selectedTabIndex),c.Cb(1),c.oc("ngForOf",e.filterTypeList),c.Cb(3),c.oc("ngForOf",e.moreOptionMenuItems))},directives:[u.a,d.c,d.a,h.a,M.b,g.m,C.d,M.a,M.c,g.n,g.l,O.a,m.a,h.c,h.f,w.a,T.b,C.c,h.b,C.a],styles:[".mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.movie-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.movie-card-title[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{white-space:nowrap;width:180px;overflow:hidden;display:block;text-overflow:ellipsis}.movie-card-title[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.movie-card[_ngcontent-%COMP%]{margin-bottom:20px}.movie-card[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 12px 25px rgba(0,0,0,.2),0 10px 10px rgba(0,0,0,.2)}.movie-card[_ngcontent-%COMP%]:hover   .description_wrapper[_ngcontent-%COMP%]{opacity:1}.movie-list-container[_ngcontent-%COMP%]{overflow:hidden;overflow-y:auto}.no-shadow[_ngcontent-%COMP%]{box-shadow:unset!important}.movie-overview[_ngcontent-%COMP%]{transition:all .3s ease}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#777}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#e0af1c}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .watch-time[_ngcontent-%COMP%]{display:flex;align-items:center}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .watch-time[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#67cc32}.movie-overview[_ngcontent-%COMP%]   .description_wrapper[_ngcontent-%COMP%]{padding:10px 20px;background:hsla(0,0%,100%,.9);position:absolute;left:0;bottom:50px;transition:all .6s ease;opacity:0}.movie-overview[_ngcontent-%COMP%]   .description_wrapper[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}"]}),t})();var P=function(t){return t[t.WatchLater=1]="WatchLater",t[t.MarkAsFavourite=2]="MarkAsFavourite",t[t.MarkAsWatched=3]="MarkAsWatched",t[t.MarkAsReviewed=4]="MarkAsReviewed",t}({});const F=[{path:"",redirectTo:"view-movies",pathMatch:"full"},{path:"view-movies",component:I,data:{title:"View Movies"}}];let A=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(F)],n.i]}),t})(),D=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[o.a,A]]}),t})()}}]);