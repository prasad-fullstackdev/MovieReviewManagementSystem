!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"pCd+":function(e,n,a){"use strict";a.r(n),a.d(n,"MoviesModule",(function(){return Q}));var r,c,s=a("PCNd"),l=a("tyNb"),v=a("M0ag"),b=a("fXoL"),u=a("tk/3"),f=((c=function(){function t(e){i(this,t),this.http=e,this.config=appConfig,this.apiUrl=this.config.apiUrl,this.authUrl=this.config.authUrl}return o(t,[{key:"getConfigs",value:function(){return this.config}},{key:"getApiPath",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="";return i.length>0&&(n=i.join("/")),"".concat(this.config.apiUrl,"/").concat(t,"/").concat(e,"/").concat(n)}}]),t}()).\u0275fac=function(t){return new(t||c)(b.Yb(u.b))},c.\u0275prov=b.Kb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),d=((r=function(){function t(e,n){i(this,t),this.appConfig=e,this.http=n,this.v3ApiUrl="https://api.themoviedb.org/3/",this.v4ApiUrl="https://api.themoviedb.org/4/",this.apiKey="383152e8c1903c8e59107fbfe3764b64",this.accessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE2MDQyNDEzNTMsInN1YiI6IjVmOWM0MjE5MjljNjI2MDAzNzU3YzU3NCIsImp0aSI6IjI1MjAxODUiLCJhdWQiOiIzODMxNTJlOGMxOTAzYzhlNTkxMDdmYmZlMzc2NGI2NCIsInNjb3BlcyI6WyJhcGlfcmVhZCIsImFwaV93cml0ZSJdLCJ2ZXJzaW9uIjoxfQ.QTOo0cNEnQcVmLAm-gCwW40oenUnQD_tyRlJsu6lRlg"}return o(t,[{key:"getFilterTypeList",value:function(){return this.http.get("assets/data/filter-type-list.json")}},{key:"getConfiguration",value:function(){return this.http.get("https://api.themoviedb.org/3/configuration?api_key="+this.apiKey)}},{key:"getMovieList",value:function(){return this.http.get("".concat(this.v4ApiUrl,"list/1?page=1&api_key=").concat(this.apiKey,"&sort_by=title.asc"))}},{key:"getMovieDetail",value:function(t){return this.http.get("".concat(this.v3ApiUrl,"movie/").concat(t,"?api_key=").concat(this.apiKey,"&language=en-US"))}},{key:"getMovieListByListId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.http.get("".concat(this.v3ApiUrl,"list/").concat(t,"?page=").concat(e,"&api_key=").concat(this.apiKey,"&sort_by=title.asc"))}}]),t}()).\u0275fac=function(t){return new(t||r)(b.Yb(f),b.Yb(u.b))},r.\u0275prov=b.Kb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),m=a("0IaG"),h=a("XiUz"),g=a("Wp6s"),p=a("NFeN"),M=a("A5z7"),C=a("ofXK");function O(t,e){if(1&t&&(b.Ub(0,"mat-chip",7),b.Oc(1),b.Tb()),2&t){var i=e.$implicit;b.Cb(1),b.Qc(" ",i.name," ")}}var y,w=((y=function(){function t(e,n){i(this,t),this.movieDetailDialogRef=e,this.movieDetail=n}return o(t,[{key:"ngOnInit",value:function(){console.log("movieDetail",this.movieDetail)}},{key:"onCloseDialog",value:function(){this.movieDetailDialogRef.close(null)}}]),t}()).\u0275fac=function(t){return new(t||y)(b.Ob(m.h),b.Ob(m.a))},y.\u0275cmp=b.Ib({type:y,selectors:[["app-movie-detail-dialog"]],decls:17,vars:5,consts:[["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"close-icon",3,"click"],[1,"movie-other-detail"],["color","primary",4,"ngFor","ngForOf"],[1,"movie-detail"],["alt","Poster",1,"movie-poster",3,"src"],[1,"movie-overview"],["color","primary"]],template:function(t,e){1&t&&(b.Ub(0,"mat-dialog-content"),b.Ub(1,"div",0),b.Ub(2,"mat-card-title"),b.Ub(3,"span"),b.Oc(4),b.Tb(),b.Ub(5,"mat-icon",1),b.bc("click",(function(){return e.onCloseDialog()})),b.Oc(6,"close"),b.Tb(),b.Tb(),b.Ub(7,"mat-card-subtitle"),b.Oc(8),b.Tb(),b.Ub(9,"mat-card-content"),b.Ub(10,"div",2),b.Ub(11,"mat-chip-list"),b.Mc(12,O,2,1,"mat-chip",3),b.Tb(),b.Tb(),b.Ub(13,"div",4),b.Pb(14,"img",5),b.Ub(15,"div",6),b.Oc(16),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&t&&(b.Cb(4),b.Pc(e.movieDetail.title),b.Cb(4),b.Pc(e.movieDetail.tagline),b.Cb(4),b.oc("ngForOf",e.movieDetail.genres),b.Cb(2),b.oc("src",e.movieDetail.posterImg,b.Ec),b.Cb(2),b.Pc(e.movieDetail.overview))},directives:[m.f,h.a,g.f,p.a,g.e,g.b,M.b,C.m,M.a],styles:[".m-t-20[_ngcontent-%COMP%]{margin-top:20px!important}"]}),y),T=a("tgey"),k=a("wZkO"),L=a("STbY"),x=a("znSr"),_=a("Qu3c"),U=a("bTqV");function I(t,e){if(1&t&&(b.Ub(0,"span",9),b.Oc(1),b.Tb(),b.Ub(2,"mat-icon",10),b.Oc(3),b.Tb()),2&t){var i=b.fc().$implicit;b.oc("ngClass",i.icon+"-lable"),b.Cb(1),b.Rc(" ",i.tabName," (",i.count,") "),b.Cb(1),b.oc("ngClass",i.icon+"-icon"),b.Cb(1),b.Qc("",i.icon," ")}}function P(t,e){if(1&t){var i=b.Vb();b.Ub(0,"div",15),b.Ub(1,"mat-card",16),b.Ub(2,"mat-card-header"),b.Ub(3,"mat-card-title",17),b.Ub(4,"span",18),b.Oc(5),b.Tb(),b.Ub(6,"button",19),b.bc("click",(function(){b.Cc(i);var t=e.$implicit;return b.fc(3).selectedMovie=t})),b.Ub(7,"mat-icon"),b.Oc(8,"more_vert"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(9,"mat-card-content",20),b.bc("click",(function(){b.Cc(i);var t=e.$implicit;return b.fc(3).getMovieDetail(t)})),b.Pb(10,"img",21),b.Ub(11,"div",22),b.Ub(12,"div",23),b.Ub(13,"div",24),b.Ub(14,"mat-icon"),b.Oc(15,"grade"),b.Tb(),b.Ub(16,"span"),b.Oc(17),b.Tb(),b.Tb(),b.Ub(18,"div",25),b.Ub(19,"mat-icon"),b.Oc(20,"watch_later"),b.Tb(),b.Ub(21,"span"),b.Oc(22,"1hr 30min"),b.Tb(),b.Tb(),b.Tb(),b.Ub(23,"div",26),b.Ub(24,"div",27),b.Oc(25),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&t){var n=e.$implicit;b.fc(3);var o=b.yc(7);b.Cb(4),b.oc("matTooltip",n.title),b.Cb(1),b.Qc(" ",n.title," "),b.Cb(1),b.oc("matMenuTriggerFor",o),b.Cb(4),b.oc("src",n.posterImg,b.Ec),b.Cb(7),b.Pc(n.vote_average),b.Cb(8),b.Pc(n.overview)}}function F(t,e){if(1&t&&(b.Sb(0),b.Ub(1,"mat-card",11),b.Ub(2,"div",12),b.Ub(3,"div",13),b.Mc(4,P,26,6,"div",14),b.Tb(),b.Tb(),b.Tb(),b.Rb()),2&t){var i=b.fc(2);b.Cb(4),b.oc("ngForOf",i.filteredMoviewList)}}function A(t,e){if(1&t&&(b.Sb(0),b.Ub(1,"mat-tab",6),b.Mc(2,I,4,5,"ng-template",7),b.Mc(3,F,5,1,"ng-container",8),b.Tb(),b.Rb()),2&t){var i=e.index,n=b.fc();b.Cb(3),b.oc("ngIf",n.selectedTabIndex==i)}}function D(t,e){if(1&t){var i=b.Vb();b.Ub(0,"button",29),b.bc("click",(function(){b.Cc(i);var t=b.fc().$implicit;return b.fc().onMoreOptionAction(t)})),b.Ub(1,"mat-icon"),b.Oc(2),b.Tb(),b.Ub(3,"span"),b.Oc(4),b.Tb(),b.Tb()}if(2&t){var n=b.fc().$implicit;b.oc("ngClass",n.class),b.Cb(2),b.Pc(n.icon),b.Cb(2),b.Pc(n.name)}}function S(t,e){if(1&t&&(b.Sb(0),b.Mc(1,D,5,3,"button",28),b.Rb()),2&t){var i=e.$implicit,n=b.fc();b.Cb(1),b.oc("ngIf",i.id!=n.selectedTabId)}}var j,W,R,N=((j=function(){function e(t,n,o){i(this,e),this.moviesService=t,this.dialog=n,this.localStrg=o,this.filterTypeList=[],this.moviesList=[],this.moreOptionMenuItems=[{id:1,name:"Move To Watch List",icon:"watch_later",class:"watch_later"},{id:2,name:"Mark As Favourite",icon:"favorite_border",class:"mark-as-fav"},{id:3,name:"Mark As Watched",icon:"check_circle_outline",class:"mark-as-watched"},{id:4,name:"Mark As Reviewed",icon:"star_border",class:"mark-as-reviewed"}],this.filteredMoviewList=[],this.selectedTabIndex=0,this.selectedTabId=1,this.baseUrl="",this.selectedMovie=null}return o(e,[{key:"ngOnInit",value:function(){this.getFilterTypeList(),this.getConfiguration(),this.getMovieList()}},{key:"onTabChanged",value:function(e){this.selectedTabIndex=e,this.selectedTabId=this.filterTypeList[this.selectedTabIndex].tabId;var i=this.getList("FavList"),n=this.getList("WatchedList"),o=this.getList("ReviewedList"),a=[].concat(t(i),t(n),t(o));switch(this.selectedTabId){case z.WatchLater:this.filteredMoviewList=this.moviesList.filter((function(t){return a.indexOf(t.id)<0}));break;case z.MarkAsFavourite:this.filteredMoviewList=this.moviesList.filter((function(t){return i.indexOf(t.id)>=0}));break;case z.MarkAsWatched:this.filteredMoviewList=this.moviesList.filter((function(t){return n.indexOf(t.id)>=0}));break;case z.MarkAsReviewed:this.filteredMoviewList=this.moviesList.filter((function(t){return o.indexOf(t.id)>=0}))}this.updateFilterCount()}},{key:"updateFilterCount",value:function(){var e=this,i=this.getList("FavList"),n=this.getList("WatchedList"),o=this.getList("ReviewedList"),a=[].concat(t(i),t(n),t(o));this.filterTypeList.forEach((function(t){var r=[];switch(t.tabId){case z.WatchLater:r=e.moviesList.filter((function(t){return a.indexOf(t.id)<0})),t.count=r.length;break;case z.MarkAsFavourite:r=e.moviesList.filter((function(t){return i.indexOf(t.id)>=0})),t.count=r.length;break;case z.MarkAsWatched:r=e.moviesList.filter((function(t){return n.indexOf(t.id)>=0})),t.count=r.length;break;case z.MarkAsReviewed:r=e.moviesList.filter((function(t){return o.indexOf(t.id)>=0})),t.count=r.length}}))}},{key:"getFilterTypeList",value:function(){var t=this;this.moviesService.getFilterTypeList().subscribe((function(e){t.filterTypeList=e}),(function(t){console.error("error",t)}))}},{key:"getConfiguration",value:function(){var t=this;this.moviesService.getConfiguration().subscribe((function(e){console.log("configuration",e),t.baseUrl=e.images.base_url}),(function(t){console.error("error",t)}))}},{key:"getMovieList",value:function(){var t=this;this.moviesService.getMovieList().subscribe((function(e){console.log("moviesList",e),t.moviesList=[],e.results.forEach((function(e){t.moviesList.push({id:e.id,title:e.title,vote_count:e.vote_count,vote_average:e.vote_average,posterImg:t.baseUrl+"/w185"+e.poster_path,overview:e.overview})})),t.filteredMoviewList=t.moviesList,t.updateFilterCount()}),(function(t){console.error("error",t)}))}},{key:"getMovieDetail",value:function(t){var e=this;this.moviesService.getMovieDetail(t.id).subscribe((function(i){console.log("movieDetail",i),i.posterImg=t.posterImg,e.dialog.open(w,{panelClass:"movie-detail-dialog",data:i})}),(function(t){console.error("error",t)}))}},{key:"onMoreOptionAction",value:function(t){switch(this.removeFromAll(),t.id){case z.WatchLater:this.removeFromAll();break;case z.MarkAsFavourite:this.addToList("FavList");break;case z.MarkAsWatched:this.addToList("WatchedList");break;case z.MarkAsReviewed:this.addToList("ReviewedList")}this.onTabChanged(this.selectedTabIndex)}},{key:"removeFromAll",value:function(){this.removeFromList("FavList"),this.removeFromList("WatchedList"),this.removeFromList("ReviewedList")}},{key:"removeFromList",value:function(t){var e=this.localStrg.get(t);null==e&&(e=[]);var i=e.indexOf(this.selectedMovie.id);i>=0&&e.splice(i,1),this.localStrg.set(t,e)}},{key:"addToList",value:function(t){var e=this.localStrg.get(t);null==e&&(e=[]),e.indexOf(this.selectedMovie.id)<0&&e.push(this.selectedMovie.id),this.localStrg.set(t,e)}},{key:"getList",value:function(t){var e=this.localStrg.get(t);return null==e&&(e=[]),e}}]),e}()).\u0275fac=function(t){return new(t||j)(b.Ob(d),b.Ob(m.c),b.Ob(v.a))},j.\u0275cmp=b.Ib({type:j,selectors:[["app-view-movies"]],decls:9,vars:3,consts:[["id","movies-container","fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["color","primary","dynamicHeight","",3,"selectedIndex","selectedTabChange"],[4,"ngFor","ngForOf"],[1,"movie-card-more-menu"],["movieCardOptionMenu","matMenu"],[1,"mat-tab-container"],["mat-tab-label",""],[4,"ngIf"],[3,"ngClass"],[1,"m-l-8",3,"ngClass"],[1,"no-shadow"],[1,"movie-list-container","p-16"],["fxLayout","row wrap",1,"matero-row"],["class","matero-col","fxFlex.gt-sm","25","fxFlex.gt-xs","50","fxFlex","100",4,"ngFor","ngForOf"],["fxFlex.gt-sm","25","fxFlex.gt-xs","50","fxFlex","100",1,"matero-col"],[1,"movie-card"],[1,"movie-card-title"],[1,"movie-title",3,"matTooltip"],["mat-icon-button","","aria-label","Open Menu",1,"menu-option",3,"matMenuTriggerFor","click"],[1,"movie-storyline",3,"click"],["alt","Poster",1,"w-full",3,"src"],[1,"movie-overview"],[1,"highlight-bar"],[1,"rating"],[1,"watch-time"],[1,"description_wrapper"],[1,"description"],["mat-menu-item","",3,"ngClass","click",4,"ngIf"],["mat-menu-item","",3,"ngClass","click"]],template:function(t,e){1&t&&(b.Pb(0,"page-header"),b.Ub(1,"div",0),b.Ub(2,"div",1),b.Ub(3,"mat-card"),b.Ub(4,"mat-tab-group",2),b.bc("selectedTabChange",(function(t){return e.onTabChanged(t.index)})),b.Mc(5,A,4,1,"ng-container",3),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(6,"mat-menu",4,5),b.Mc(8,S,2,1,"ng-container",3),b.Tb()),2&t&&(b.Cb(4),b.oc("selectedIndex",e.selectedTabIndex),b.Cb(1),b.oc("ngForOf",e.filterTypeList),b.Cb(3),b.oc("ngForOf",e.moreOptionMenuItems))},directives:[T.a,h.c,h.a,g.a,k.b,C.m,L.d,k.a,k.c,C.n,C.l,x.a,p.a,g.c,g.f,_.a,U.b,L.c,g.b,L.a],styles:[".mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.movie-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.movie-card-title[_ngcontent-%COMP%]   .movie-title[_ngcontent-%COMP%]{white-space:nowrap;width:180px;overflow:hidden;display:block;text-overflow:ellipsis}.movie-card-title[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.movie-card[_ngcontent-%COMP%]{margin-bottom:20px}.movie-card[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 12px 25px rgba(0,0,0,.2),0 10px 10px rgba(0,0,0,.2)}.movie-card[_ngcontent-%COMP%]:hover   .description_wrapper[_ngcontent-%COMP%]{opacity:1}.movie-list-container[_ngcontent-%COMP%]{overflow:hidden;overflow-y:auto}.no-shadow[_ngcontent-%COMP%]{box-shadow:unset!important}.movie-overview[_ngcontent-%COMP%]{transition:all .3s ease}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#777}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#e0af1c}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .watch-time[_ngcontent-%COMP%]{display:flex;align-items:center}.movie-overview[_ngcontent-%COMP%]   .highlight-bar[_ngcontent-%COMP%]   .watch-time[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#67cc32}.movie-overview[_ngcontent-%COMP%]   .description_wrapper[_ngcontent-%COMP%]{padding:10px 20px;background:hsla(0,0%,100%,.9);position:absolute;left:0;bottom:50px;transition:all .6s ease;opacity:0}.movie-overview[_ngcontent-%COMP%]   .description_wrapper[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}"]}),j),z=function(t){return t[t.WatchLater=1]="WatchLater",t[t.MarkAsFavourite=2]="MarkAsFavourite",t[t.MarkAsWatched=3]="MarkAsWatched",t[t.MarkAsReviewed=4]="MarkAsReviewed",t}({}),J=[{path:"",redirectTo:"view-movies",pathMatch:"full"},{path:"view-movies",component:N,data:{title:"View Movies"}}],E=((R=function t(){i(this,t)}).\u0275mod=b.Mb({type:R}),R.\u0275inj=b.Lb({factory:function(t){return new(t||R)},imports:[[l.i.forChild(J)],l.i]}),R),Q=((W=function t(){i(this,t)}).\u0275mod=b.Mb({type:W}),W.\u0275inj=b.Lb({factory:function(t){return new(t||W)},imports:[[s.a,E]]}),W)}}])}();